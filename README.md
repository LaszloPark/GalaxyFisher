# 这是什么
《银河境界线》手游中钓鱼小游戏的自动脚本。脚本可后台运行，但需保证模拟器窗口不被遮挡。

# 使用方法
1. 前往[银河境界线官网](https://www.galaxy-fantasy.com/main)下载桌面版（MuMu 模拟器版本）
2. 在 MuMu 模拟器的设置-显示设置中，修改分辨率为平板版1280x720(DPI240)
3. 打开游戏，并将模拟器窗口拖到一个不碍事的地方。
4. 安装依赖(`pip install -r requirements.txt`)，运行脚本（`python .\main.py`），连接设备选项时直接回车。
5. 进入任意一个渔场，enjoy it!

# 常见问题
问：其他模拟器可以吗？  
答：理论上支持其他模拟器，需指定模拟器窗口的标题（main.py 中 simulator 变量）和相应的端口号（连接设备时手动输入）。未经测试，不保证正常运行。  

问：模拟器卡到惨绝人寰，根本没法钓鱼？  
答：请先使用模拟器自带的问题诊断功能进行修复（右上角菜单 > 问题诊断）。特别地，请留意是否开启VT。以下是一些可参考的资料：  
- [如何开启VT\_MuMu模拟器\_安卓模拟器](https://mumu.163.com/help/20210510/35043_946541.html?fq)  
- [如何减轻模拟器卡顿\_MuMu模拟器\_安卓模拟器](https://mumu.163.com/help/20210513/35048_947490.html)  
- [《银河境界线》推荐配置与常见问题\_MuMu模拟器\_安卓模拟器](https://mumu.163.com/help/20230725/35048_1100574.html)  

问：修正窗口偏移量报错/根本识别不到/乱点一通？  
答：大概率是缩放问题，请参考[在 windows 系统中使用缩放会导致匹配图像识别、错误点击等问题](https://github.com/LaszloPark/GalaxyFisher/issues/2)，后续会修复。如果是其他问题，请提issue，感谢。

问：我不想用 1280x720 分辨率？  
答：请修改 config.json 和相应的模板文件。  

问：为什么又有adb又有win32gui？  
答：因为用adb读取图像的高延迟不足以满足钓鱼需求。写到一半才发现这个问题……所以脚本的逻辑是 win32gui 检测前台窗口 + adb 控制游戏内部行为。  

问：为什么模拟器窗口一直在前面？  
答：脚本内部设置了模拟器窗口前置。  

# 攻略
## 选交订单原则
(源自[[攻略]选交订单原则、其他要点、种植周期 - NGA 玩家论坛]( https://bbs.nga.cn/read.php?tid=37336907) ，感谢大佬)  

用餐日常、周常都放弃。要溢价的菜除 经典焗蜗牛、码头薯条 外都是鱼菜；鱼菜只有 迦南特色汤面、黄金海鲜烩饭、鹅肝奶油配鱼籽 3 道金菜可交 0%。  
- 绝对不交：香煎鱼块。  
- 只交 100% 溢价：拿坡利亚炖章鱼、蒲烧鳗鱼、烟熏鲨鱼丁  
- 只交≥50% 溢价：白葡萄酒烩贻贝、清蒸鳗鱼、什锦蔬菜烤鱼、鲨鱼肉排、盐壳鲨鱼、小克拉肯须烧烤、海鲜高汤 
- 只交≥20% 溢价：经典焗蜗牛、牛臀烤肉配鱼籽、鱼肉酿菌菇、鳗鱼卷、贻贝煎鸭蛋、章鱼小丸子、哈涅风味羊腩煲、德拉肯浸虾、蒜蓉蒸大蓝虾、鲜奶大虾海参汤、鱼肉丸子、海参刺身、码头薯条。
- 其他都可交 0 溢价；
---
- 种菜频率低就不交 0% 奶油南瓜汤、碳香烤玉米。  
- 缺萨丁尼亚草就不交 0% 火腿卷配黑醋、烤带骨羊排。  
- 缺海洋之泪就不交 0% 红酒炖羊小腿 (优先)、爆炸莓特饮、香酥蜗牛串、香料糖果。  
- 缺爱琴小樱桃就不交 0% 五味鹅。  
- 小行星薯略溢出，信用点紧张可交 0% 码头薯条。  
---
- 钓鱼会略有余量，4 池紫鱼、1 池蓝鱼等可能溢出，多了可以这么消耗 (如另一种鱼溢出，会随时间抹平)：  
   - 1 池蓝鱼，交 0 溢价 海参刺身；  
   - 2 池紫鱼，交 20% 溢价 盐壳鲨鱼 / 鲨鱼肉排；  
   - 3 池紫鱼，留着以备 芝士肉丸面 图鉴加入新角色；  
   - 4 池紫鱼，交 0 溢价 牛臀烤肉配鱼籽。  

## 其他攻略
[[攻略]50/70敌人属性、自有角色等级/模组/副官配置 - NGA 玩家社区]( https://bbs.nga.cn/read.php?tid=37381112)  
[[杂谈氵]做了个菜品喜好收集表，大家来帮忙凑凑齐吧！- NGA 玩家社区]( https://bbs.nga.cn/read.php?tid=37207849)  



# One More Thing
部分代码来自[世界弹射物语护肝宝](https://github.com/AshenOneYe/WFHelper)，特此感谢。  
另外，求些好友：8693013815760（目前拿得出手的只有一个百级威风复苏奉献彗星XD）
